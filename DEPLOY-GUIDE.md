# 🚀 Railway 배포 빠른 가이드

## ✅ 준비 완료!

이 폴더의 파일들은 **로컬에서 잘 작동하던 파일들**이며, Railway에 바로 배포할 수 있습니다.

---

## 📦 1단계: Git 업로드 (1분)

```bash
# 작업 폴더로 이동
cd /Users/myunggeunjung/overtake_staking_bot/files

# 이 폴더의 파일들로 교체
# (railway-ready 폴더의 모든 파일을 복사)

# Git 커밋
git add .
git commit -m "Update: Add debug logs"
git push origin main
```

---

## ☁️ 2단계: Railway 확인 (30초)

Railway는 자동으로 재배포됩니다!

1. https://railway.app/dashboard 접속
2. 프로젝트 클릭
3. **Deployments** → 최신 배포 확인
4. **View Logs** 클릭

---

## 🔍 3단계: 로그 확인

이제 로그에서 다음을 확인할 수 있습니다:

### ✅ 정상 (알림 전송)
```
[6710244354] 💰 1500.00 TAKE ($540.00) - ✅ 알림 전송!
```

### 💵 임계값 미달
```
[6710244354] 💵 50.00 TAKE ($18.00) - 임계값 미달 ($100)
```

### ⚠️ 금액 추출 실패
```
[6710244354] ⚠️ 금액 추출 실패 - TX: 7JQbScv8A2
```

### ⚠️ 스테이킹 TX 아님
```
[6710244354] ⚠️ 스테이킹 TX 아님 - TX: 3EerUYwTcz
```

---

## 🎯 문제 해결

### 임계값 미달이 많이 나올 경우
```
텔레그램에서:
/threshold 10

→ $10 이상이면 알림 (테스트용)
```

### 금액 추출 실패가 많이 나올 경우
- Package 주소 확인 필요
- Event 구조 변경 가능성
- 로그와 함께 문의

### 스테이킹 TX 아님이 많이 나올 경우
- 정상 (스테이킹 외 다른 TX)
- 무시해도 됨

---

## 📝 추가된 디버깅 로그

이번 업데이트에서 추가된 로그:
- ✅ `💰 ... - 알림 전송!` → 성공
- 💵 `... - 임계값 미달` → 금액 작음
- ⚠️ `금액 추출 실패` → 금액 못 찾음
- ⚠️ `스테이킹 TX 아님` → 다른 종류 TX

**이제 정확히 왜 알림이 안 오는지 알 수 있습니다!**

---

## ✅ 환경변수 확인

Railway Variables에서 확인:
- `BOT_TOKEN`: 텔레그램 봇 토큰

**이미 설정되어 있으면 OK!**

---

## 🎉 완료!

이제 Railway 로그를 보면 정확히 어떤 상황인지 알 수 있습니다!

**문제 파악 → 해결 → 알림 받기! 🚀**
